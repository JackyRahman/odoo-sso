<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <record id="res_config_settings_view_form_sso_bag" model="ir.ui.view">
    <field name="name">res.config.settings.view.form.sso.bag</field>
    <field name="model">res.config.settings</field>
    <field name="inherit_id" ref="base.res_config_settings_view_form"/>
    <field name="priority" eval="90"/>
    <field name="arch" type="xml">

      <!-- Inject ke kontainer utama -->
      <xpath expr="//div[hasclass('settings')]" position="inside">

        <!-- ⚠️ Penting: harus ada data-string dan data-key -->
        <div class="app_settings_block" data-string="SSO (BAG)" data-key="auth_sso_bag">

          <!-- Header block — boleh dihapus tapi aman -->
          <h2>SSO (BAG)</h2>

          <div class="row mt16 o_settings_container">
            <div class="col-12 col-lg-6">

              <!-- Show Button -->
              <div class="o_setting_box" data-key="show_sso_login_button">
                <div class="o_setting_left">
                  <field name="show_sso_login_button"/>
                </div>
                <div class="o_setting_right">
                  <label for="show_sso_login_button"/>
                  <div class="text-muted">Show "Login dengan SSO" di halaman login.</div>
                </div>
              </div>

              <!-- Base URL -->
              <div class="o_setting_box" data-key="auth_sso_bag_base_url">
                <div class="o_setting_left"><field name="auth_sso_bag_base_url"/></div>
                <div class="o_setting_right">
                  <label for="auth_sso_bag_base_url"/>
                  <div class="text-muted">Contoh: https://dev-ssobag.air.id</div>
                </div>
              </div>

              <!-- Authorize -->
              <div class="o_setting_box" data-key="auth_sso_bag_auth_endpoint">
                <div class="o_setting_left"><field name="auth_sso_bag_auth_endpoint"/></div>
                <div class="o_setting_right">
                  <label for="auth_sso_bag_auth_endpoint"/>
                  <div class="text-muted">/svc-sso/oauth2/auth</div>
                </div>
              </div>

              <!-- Token -->
              <div class="o_setting_box" data-key="auth_sso_bag_token_endpoint">
                <div class="o_setting_left"><field name="auth_sso_bag_token_endpoint"/></div>
                <div class="o_setting_right">
                  <label for="auth_sso_bag_token_endpoint"/>
                  <div class="text-muted">/svc-sso/oauth2/token</div>
                </div>
              </div>

              <!-- Me -->
              <div class="o_setting_box" data-key="auth_sso_bag_me_endpoint">
                <div class="o_setting_left"><field name="auth_sso_bag_me_endpoint"/></div>
                <div class="o_setting_right">
                  <label for="auth_sso_bag_me_endpoint"/>
                  <div class="text-muted">/svc-sso/oauth2/me</div>
                </div>
              </div>

              <!-- Logout -->
              <div class="o_setting_box" data-key="auth_sso_bag_logout_endpoint">
                <div class="o_setting_left"><field name="auth_sso_bag_logout_endpoint"/></div>
                <div class="o_setting_right">
                  <label for="auth_sso_bag_logout_endpoint"/>
                  <div class="text-muted">/svc-sso/oauth2/logout</div>
                </div>
              </div>

              <!-- Client ID -->
              <div class="o_setting_box" data-key="auth_sso_bag_client_id">
                <div class="o_setting_left"><field name="auth_sso_bag_client_id"/></div>
                <div class="o_setting_right">
                  <label for="auth_sso_bag_client_id"/>
                </div>
              </div>

              <!-- Client Secret -->
              <div class="o_setting_box" data-key="auth_sso_bag_client_secret">
                <div class="o_setting_left">
                  <field name="auth_sso_bag_client_secret" password="True"/>
                </div>
                <div class="o_setting_right">
                  <label for="auth_sso_bag_client_secret"/>
                </div>
              </div>

              <!-- Private Key -->
              <div class="o_setting_box" data-key="auth_sso_bag_private_key">
                <div class="o_setting_left">
                  <field name="auth_sso_bag_private_key" placeholder="-----BEGIN PRIVATE KEY-----" widget="text"/>
                </div>
                <div class="o_setting_right">
                  <label for="auth_sso_bag_private_key"/>
                  <div class="text-muted">Paste PEM encoded RSA private key used to decrypt bcrypt hashes.</div>
                </div>
              </div>

              <!-- Scopes -->
              <div class="o_setting_box" data-key="auth_sso_bag_scopes">
                <div class="o_setting_left"><field name="auth_sso_bag_scopes"/></div>
                <div class="o_setting_right">
                  <label for="auth_sso_bag_scopes"/>
                  <div class="text-muted">openid profile personal empinfo email address phone password</div>
                </div>
              </div>

            </div>
          </div>
        </div>

      </xpath>

    </field>
  </record>
</odoo>
